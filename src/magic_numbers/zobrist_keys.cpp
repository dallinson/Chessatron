#include "../zobrist_hashing.hpp"

// Normally these would be randomly generated at runtime with a PRNG; to ensure different PRNGs don't affect it they're included precomputed
constexpr std::array<ZobristKey, 64 * 12> ZobristKeys::PositionKeys = {
    2694892932751963130ull,  8811095521526232720ull,  6317817401586203073ull,  15906045400717519145ull, 9065498316803862148ull,
    14615410821945417663ull, 5805253573105384475ull,  9460946386745629848ull,  12123255769281983901ull, 11600796555905231097ull,
    3735726687103429597ull,  11747878698058262187ull, 782332178359130151ull,   6672681920062977432ull,  16094318941159647107ull,
    17793940785457288281ull, 15157181552649457981ull, 4481716293360499912ull,  988186063894743482ull,   319591345511384327ull,
    15511640839634600016ull, 5387331966893918202ull,  7972784491919913460ull,  5941612558772106313ull,  5546141757584368259ull,
    11985716112518504803ull, 17152056896718948313ull, 15256098022492235181ull, 2411094467711253190ull,  4931182401918126952ull,
    18262556690255299567ull, 10980122710189857479ull, 10471413072412369603ull, 146156042163342884ull,   5577331768585118610ull,
    9688483807697618503ull,  8749452089061890912ull,  17778544980153814175ull, 1598115602086432898ull,  16496321610697077156ull,
    17984884122355551271ull, 3052640292154926372ull,  11157815624546785769ull, 12418667939745222433ull, 492640102179325571ull,
    6096016653776592968ull,  8259505961623164087ull,  6328897643699571567ull,  11246729017335400965ull, 4842103588596046306ull,
    11696051335285469739ull, 268883494918192426ull,   15936571894848334923ull, 9551984350247187926ull,  12810813770063191204ull,
    3231963583586134245ull,  13685891792465721537ull, 17259166243413082280ull, 17875952370316409415ull, 3247073762189160852ull,
    15831810270644324524ull, 11063881554012738054ull, 5116419972237927123ull,  11679184918133270284ull, 13665258743468546244ull,
    2878561566660382697ull,  11329235609188214849ull, 6742970795912590408ull,  5111918562081716853ull,  4211331458889797990ull,
    11117791395361833307ull, 10184969357796864750ull, 16477184045200651931ull, 8245613376982639234ull,  8066350058746640561ull,
    5909661059178984690ull,  8861475604320749252ull,  15527397615053381449ull, 16371363050453173278ull, 16671871606740715808ull,
    15111903243873155046ull, 9626948390614108642ull,  7772762737102604360ull,  3191076249396619957ull,  8575814017305922633ull,
    6369613079968166020ull,  16206309837906665452ull, 15750344832636576954ull, 1202845961651269332ull,  11397979356124934567ull,
    4111712070490202613ull,  16367255584330659074ull, 8066627091803236964ull,  1571336320394910582ull,  807001413351232892ull,
    10966189880917736020ull, 14226208602507150450ull, 4988133579332727083ull,  11222112586337552862ull, 12581922419085014516ull,
    16411850604458404381ull, 115723339927962732ull,   18272781562139133892ull, 6230507966363192777ull,  11652064655020846328ull,
    6519431198255007568ull,  4793250263701170064ull,  9067191741094927773ull,  17643929233354313178ull, 8932496364424557527ull,
    4670316791391260882ull,  18376307454398352154ull, 1099600543463785348ull,  4238737115076703520ull,  1089518276884386685ull,
    9193669499039787545ull,  17463506757369387940ull, 16748804926621277486ull, 14083117924411674170ull, 16595950076801279414ull,
    12809343133291369267ull, 16959332950576475597ull, 11991168992387460854ull, 15924706887297932819ull, 4986231817323021421ull,
    14183449447892293761ull, 11924274495239424987ull, 11526266225408536430ull, 4339472567956568629ull,  14236328174644991963ull,
    4592444181709590152ull,  2936959706760951999ull,  5977245758785440598ull,  10817317475409451148ull, 10890833618219152180ull,
    17545571553784642686ull, 5172652151038079899ull,  1099883749419093707ull,  873110721143006290ull,   12480468692033786421ull,
    12831152582094639478ull, 1215167547580005662ull,  11484137923663708147ull, 6584054630954698281ull,  9780478715828912289ull,
    6392422357046058723ull,  5171331604818990439ull,  17893742322166229442ull, 17460439552356854596ull, 13451546087843565660ull,
    3700938039013667602ull,  2061796654835643041ull,  16948567279925702103ull, 8093190838788033003ull,  15543335235897104948ull,
    10769065786534640359ull, 2169866485250180357ull,  17542144094947180160ull, 16217113244957388508ull, 14853683476911850727ull,
    11488264972388689177ull, 9213342725579310196ull,  16321734503194306287ull, 5899433244383739739ull,  16886294898327017257ull,
    10576146401294367106ull, 14641946385150175788ull, 8457892198215649858ull,  12882556508159008418ull, 4258916082403861634ull,
    2864550602902200456ull,  17740277381442834614ull, 11662885566547919760ull, 14326534495505009424ull, 12938329068725600324ull,
    669998240333629176ull,   9512215932496456023ull,  8602330179407183579ull,  8652689674160893539ull,  280153871686191550ull,
    2249718632299328536ull,  14060972881461861882ull, 2505172026626324880ull,  3315559405474736127ull,  7820376858465342215ull,
    15152115596017073475ull, 16206750107993471789ull, 2908722805240696620ull,  16425575131287020656ull, 11895472879686121366ull,
    9799191857722927207ull,  2297977961955816888ull,  10045029663214936545ull, 10569903807921319640ull, 5461105477890895883ull,
    17178688848876783896ull, 14172699254353869610ull, 8982305506943712194ull,  1626347101114218114ull,  8542355755051022881ull,
    6132702176006662752ull,  5078973864612735189ull,  11668396009914479920ull, 2408343154115390563ull,  18289662699783874613ull,
    32443884952526116ull,    7903742478474199313ull,  3679264500371113855ull,  10384234439711036108ull, 17784733723696633948ull,
    6377980415828286814ull,  16354165766895347621ull, 15142657650131373380ull, 4297558697925698929ull,  7309725881823185131ull,
    12811063008142441541ull, 3334558180173586526ull,  9301400568666758054ull,  8489316006370373567ull,  11888731644539576916ull,
    7458983056465956674ull,  4831061031876540201ull,  14544594154796632585ull, 15019780754326572237ull, 9598069944927053650ull,
    7819236907904766830ull,  12275572876945245044ull, 8255096003464791747ull,  1476140044610459639ull,  8981546017819894314ull,
    15938133734679651391ull, 10085635854259173459ull, 3902881628832682261ull,  7453821769767979544ull,  3957518507113792086ull,
    16129401878464420099ull, 4133377369083333035ull,  16376905395515682328ull, 2208096396374478372ull,  18004898222164092235ull,
    12557419192172407797ull, 3192287269774578718ull,  1832742725224876817ull,  18231834769201470638ull, 5161295553779631976ull,
    13301692371013167682ull, 18312744463658001665ull, 5850887961855706326ull,  3537159150093175614ull,  12915613813320952661ull,
    8432010872282685373ull,  14714294323350832233ull, 13527733216138854376ull, 18040520821062158929ull, 18215823362809359995ull,
    8357518852774542307ull,  14799115347873928628ull, 2271601755748386751ull,  324852965524626454ull,   4911107782604241862ull,
    3176011203439322638ull,  12581587696723208187ull, 17139608416396294387ull, 11158755826272297906ull, 10390803710502234360ull,
    17341555747158080749ull, 15294305757947358024ull, 14340600186139418685ull, 16538098316057802983ull, 9769690720307198391ull,
    18046912202788527587ull, 4116197717206741553ull,  16732608851483368555ull, 13315633258251282261ull, 16497284262644634123ull,
    4319916173424283448ull,  1344453728363304777ull,  11162977169499767358ull, 13502180274500008603ull, 3779878703953245668ull,
    909940287715585192ull,   1966749622727336196ull,  15156137969855202937ull, 15973894921454463238ull, 16608440910878697374ull,
    9788438725145755057ull,  4760589417049096466ull,  5657497715944924993ull,  3523536717394595204ull,  5753453391486217259ull,
    4892460730982206194ull,  8399662485029722854ull,  4161164568937178949ull,  14222443900148283024ull, 1619236287742911854ull,
    16237507558698530546ull, 3303712302449154130ull,  15883765781821750119ull, 18073452625775166702ull, 8138844802684617798ull,
    4715477124708210563ull,  10468111259994162324ull, 1912736126644928559ull,  13568205365799421299ull, 16524372994206647026ull,
    5571987119265027877ull,  18010300803333673548ull, 13692377304636137857ull, 12073387210478047769ull, 6299267220603177502ull,
    11651593267730470019ull, 17439455005137500472ull, 11396264574235269041ull, 7046979410045648879ull,  12555200926188049755ull,
    15847871892801455232ull, 14456846178213180705ull, 113377424478572950ull,   8078401031449023015ull,  11077471171461728251ull,
    10460883306315389982ull, 6948390316697262985ull,  3222162867629476144ull,  16906219027716723082ull, 125285222079219257ull,
    10015730052832728144ull, 17596703372809108748ull, 14361179161907419345ull, 11441817359151690534ull, 6480402650697298428ull,
    13634437662689938173ull, 935627383428262244ull,   5449900404719597023ull,  1551145085995813715ull,  1302225875646150279ull,
    7863173221942483983ull,  5458488514955883781ull,  17522661541463244155ull, 9798578783841786226ull,  13609632750588508131ull,
    15342890142410138558ull, 17772473660867707007ull, 6551175021466580262ull,  18323362392395237573ull, 11966022481014371426ull,
    3363589109408085977ull,  15042480754109252507ull, 17429450959272602663ull, 15425083956566192719ull, 12465934260808317331ull,
    11892949313819865835ull, 15140510125360382757ull, 2060407348427647403ull,  3543807443896460291ull,  3677514176424336078ull,
    14267774857183764780ull, 18101266048523395783ull, 10417743516948173378ull, 6503374774224650331ull,  6664957282540165560ull,
    17410247980154283640ull, 3657264607471924462ull,  17280298855845609745ull, 2019777537506915121ull,  17419854104049212640ull,
    6138284089792312903ull,  11147349212817792186ull, 13803159177732059491ull, 13655181075365706617ull, 1896611339887715735ull,
    7740578960045135201ull,  13153118813744109882ull, 17562924809619079616ull, 16700360181683677170ull, 12513811052592980418ull,
    13282663782490170147ull, 8766253186359424635ull,  2420122575314569182ull,  9528989483403947253ull,  12692837331657805697ull,
    18247529849787128823ull, 8074666169357297963ull,  5897432143309158287ull,  11465022407563147883ull, 13987619750922172792ull,
    8795015440538555871ull,  6977452908640845359ull,  15761924490991218718ull, 9740141601929602208ull,  3201936209162141005ull,
    14362488181403088331ull, 7427039898340284818ull,  461656588681263153ull,   2929887988368212380ull,  7720002360143085169ull,
    706658286530070629ull,   12402585203130540746ull, 3416187867603995932ull,  16895727431386377556ull, 10847571175800196848ull,
    3140856555573340901ull,  6938419619947146901ull,  14120300665284111812ull, 16364273868349332299ull, 7837293005965085089ull,
    12507508684258075341ull, 275357180668017917ull,   10597816784619028200ull, 6830864958912186939ull,  5881469664571753197ull,
    2206256346704930127ull,  2304661552582806889ull,  4475611357835699931ull,  8864376466141848944ull,  8640898740940297127ull,
    16765808416842590863ull, 9014351451561224334ull,  13494442123626696517ull, 1740201840522612775ull,  7962395062088993543ull,
    13136602195603923354ull, 12711725029809837894ull, 17330066287450234915ull, 5704662289957060290ull,  15330584414196529086ull,
    5062386399359321582ull,  12828834871476123478ull, 8054096227237506112ull,  17494614308825064411ull, 4799648750745310073ull,
    5456010446404982859ull,  17310599807368100997ull, 6923408134145693215ull,  13217621600631454662ull, 1085296794189576144ull,
    3155105774711887982ull,  738142305176765259ull,   3473094534385223338ull,  16258634265992302570ull, 17167764221246873169ull,
    1448938147363844475ull,  9359997457254992558ull,  2469808284831043580ull,  17244946702220320664ull, 3445874107145678042ull,
    8456156316528306821ull,  10940038542721283375ull, 16451858949038418151ull, 6314626051227463899ull,  7255448193235205448ull,
    9574680775128270622ull,  1895173961806012611ull,  4415307239805824493ull,  18302024784471427530ull, 3461718960531676333ull,
    11724729197728648391ull, 5016347007156375379ull,  979684039276467842ull,   15190013475891522249ull, 14395180527891291073ull,
    6955271599009819906ull,  7000909027699890985ull,  8503942619518639083ull,  9046826845693679411ull,  3366230349083115468ull,
    14196840577867867346ull, 16658329689117817108ull, 196726730504914824ull,   3933558607470099036ull,  16312650042991726097ull,
    11575170936528722151ull, 5185947997361899535ull,  16425858979094239954ull, 18131998728310073418ull, 5173956067773807647ull,
    6636498722069845821ull,  11430914536042010727ull, 16957978469553702346ull, 1601989619105174894ull,  9813120784487109389ull,
    4602623141370924851ull,  2132215544590266572ull,  12789223832852494660ull, 9389666115183383795ull,  12711574105386191203ull,
    8453792880386320600ull,  190248181086575627ull,   3968927657161357391ull,  10060086981877423427ull, 11603759447542982062ull,
    3806625857681136963ull,  1718296214760053746ull,  1445526167623396023ull,  17911295072250618931ull, 14725876422732674088ull,
    10356958697786484182ull, 16286928281852359307ull, 10758076105391248607ull, 3620909616614718685ull,  13392967542699686416ull,
    8200424984493559486ull,  1722163143857600188ull,  4138738276123963489ull,  1000865550509681283ull,  17689248958315906403ull,
    16328912475613109911ull, 1351596991442795650ull,  18145756693703308210ull, 4161142819760894979ull,  5693872775385765680ull,
    10990802212633809968ull, 16727273888373947314ull, 887728131424999075ull,   16994911327108268153ull, 14011661136298907470ull,
    15826453089505040526ull, 5169524044979980226ull,  11825178668054155556ull, 7268682776469759723ull,  17581073836028519186ull,
    7580986599689808314ull,  13561148173028267151ull, 3741529119115924014ull,  8385995969769351747ull,  2076734293853832998ull,
    16379272118074523139ull, 14411699154201956799ull, 17481285294780676593ull, 11340349314823063120ull, 16573588531778158616ull,
    8521771417154261091ull,  5884929095673725416ull,  17769314656797185139ull, 12349534051817852528ull, 14764638421438559552ull,
    7067796238493041706ull,  12355024277327776132ull, 16332232433408723485ull, 10841132365128492443ull, 8578185983412106720ull,
    8948741378156120722ull,  1916225416331542786ull,  2550965737969999270ull,  6901055751292761358ull,  15531106316055039897ull,
    8488817397124909677ull,  12653512931212137441ull, 3398238757720042509ull,  16078959814411275324ull, 15894887068396814700ull,
    16538052407335308673ull, 14983161823535153568ull, 916721511200853464ull,   10272536017574635283ull, 4426841951833104276ull,
    5861984214469363116ull,  5477029170893278451ull,  2176198225387954260ull,  10954125061064297115ull, 17750525203446262209ull,
    2136044899145441806ull,  9226116404239229112ull,  13082269374538587178ull, 5029099757467190430ull,  17765547317021585714ull,
    6704698972822015070ull,  16670949464859044030ull, 13145759542946776618ull, 322150753460980140ull,   8871509219030345138ull,
    1721342313794284437ull,  7237274241115866490ull,  4321556464906072658ull,  2533461271839892291ull,  2875564821510386468ull,
    1468980200866484650ull,  14110658920879335049ull, 15301240452787401756ull, 10316011424776148307ull, 17426379153952421543ull,
    9086848819775858808ull,  10332951724332685229ull, 7625892700741923881ull,  5979728578013503745ull,  4884981756185508221ull,
    15923450150923195735ull, 14827337713447931097ull, 5652265448065704266ull,  14349343589807664411ull, 13898873195350585718ull,
    11635253040890233962ull, 9380291291581889291ull,  14813103613613748216ull, 12341315904416605501ull, 7823811973487046142ull,
    4853033335714558009ull,  5991143927627591211ull,  4827887617686956542ull,  11668709360837260640ull, 12319022926954551590ull,
    15664169834718464600ull, 5702327787217748657ull,  10801929699444097508ull, 2428693889859787549ull,  16587513184466030994ull,
    15992336958278372801ull, 237541676654977339ull,   5517204957499644540ull,  15206901712280684086ull, 6376730356066740628ull,
    11537890186731555588ull, 18177365892543169620ull, 1969933620416183174ull,  15802623697171047923ull, 1696239322539864072ull,
    7434445765679741354ull,  16541528723316001350ull, 2422272248893997628ull,  2912079259370746669ull,  18055214696703448375ull,
    1844342291806240649ull,  15558660183003164342ull, 9853615192973826650ull,  17368116843766158308ull, 13672425164245039060ull,
    12060591243343028883ull, 441226123792256119ull,   17571525588361180952ull, 18444756096463734840ull, 14918353026652921804ull,
    9441047482230083694ull,  8860440820753294987ull,  16065278046180682304ull, 7368267712694492847ull,  11154891859972217463ull,
    6249583026739133609ull,  14920818583929797743ull, 14119466865710843513ull, 2977876463538538023ull,  14038933847422256465ull,
    1899171149409897390ull,  9459722184141929267ull,  5805783083593671990ull,  5671334682927946363ull,  15938897140848335524ull,
    18178672246227034144ull, 12100992615441221422ull, 2519415695638072967ull,  7202374712907659884ull,  8050012482165779191ull,
    18113626527230294000ull, 13291744802060401380ull, 17605100502539691988ull, 1908781074753698469ull,  15001992143233872327ull,
    1931347493058632691ull,  8121973137076848733ull,  1890420576180169318ull,  11351213823147685539ull, 10916250016564152379ull,
    5515990101286996264ull,  14864895376655329484ull, 517501006790476204ull,   7692714992499905056ull,  16798914363539787623ull,
    17645111144677315840ull, 199677798310048787ull,   1022758241569053629ull,  9040656060225172198ull,  7526326316665548771ull,
    9258539572344161523ull,  18388232318850592415ull, 7563700934131290475ull,  10877538944412379492ull, 8325271140504816533ull,
    13577344804268810780ull, 10108686290112405316ull, 12312606258973960256ull, 3347299049186128363ull,  9450089317073352772ull,
    5824623000220344840ull,  1511901878392959200ull,  7212147659415459071ull,  6657259139330659679ull,  4546617961137708318ull,
    9746577523981442977ull,  3290048918535675632ull,  10431463144041075844ull, 6598023399990048321ull,  17955699589571644873ull,
    10457315767522550247ull, 27689387775715427ull,    14167800980611108009ull, 7018131556676856776ull,  6256460816698534577ull,
    11417818436186932460ull, 2530318484128262641ull,  11643347355795811987ull, 3893451593932482262ull,  9889041396784294157ull,
    8385487168123190807ull,  6646657745215827952ull,  9980598346619859559ull,  8979898379838684005ull,  10599274227966115801ull,
    4762566850206647018ull,  1605863140760309014ull,  11489017914233410965ull, 16237019545178758679ull, 11597791789638612726ull,
    15359039925219176738ull, 17812521637931105629ull, 3800987774072558393ull,  9052380964810681887ull,  12963475380638403295ull,
    9079659323481259348ull,  12451484013667836103ull, 9305563495190038119ull,  15202429512295729997ull, 5052852527571923727ull,
    15226260430061838828ull, 1499087404000274608ull,  15719532363112307488ull, 10361453461696853995ull, 8656073950047043759ull,
    5820804026486723944ull,  5654192465945254761ull,  17514253374864664997ull, 3230674642413791435ull,  12760541402647894455ull,
    15348472783622517074ull, 13056103795072024395ull, 14315056207879730995ull, 15779037209764337213ull, 14969885469261067457ull,
    2113147759260429086ull,  3138707032202443729ull,  13560513332660826462ull, 17455743109643372820ull, 2889471777530540708ull,
    624376497403108190ull,   17775226290148139932ull, 3544080086584993847ull,  8130244645578699165ull,  4061500511747445441ull,
    14772610759213997783ull, 6350650322784600041ull,  11496543320664034335ull, 18300178956159782888ull, 707909269638328934ull,
    7653859248589739858ull,  17988412978349816643ull, 16143359582147710318ull, 8082441965584508554ull,  11008150107664558774ull,
    17038427224301609018ull, 15417330157047834771ull, 6611793294775432353ull,  11885083748806121097ull, 7267626004451602555ull,
    5153154913124320744ull,  15596597542884321359ull, 7588391317090675406ull,  12450967163024082211ull, 9791679523233844312ull,
    13400713971020842501ull, 13350942106754650536ull, 13987921036627472376ull,
};

constexpr ZobristKey ZobristKeys::SideToMove = 5435422981070238879ull;

/**
 * @brief There are 8 possible en passant files, however this program uses file 9 as a placeholder for no en passant being possible.  By setting
 * elements 8 and 9 to 0, this enables slightly easier Zobrist hashing
 *
 */
constexpr std::array<ZobristKey, 10> ZobristKeys::EnPassantKeys = {7801543236876572955ull,
                                                                   8293605126622563836ull,
                                                                   13075374573354356949ull,
                                                                   15366430522598593614ull,
                                                                   1909640243899614918ull,
                                                                   4971141370915952618ull,
                                                                   16240558658507853973ull,
                                                                   5081596419041711127ull,
                                                                   0ull,
                                                                   0ull};

constexpr std::array<ZobristKey, 4> ZobristKeys::CastlingKeys = {6204874926517392238ull, 631977179020359481ull, 15262350177463864069ull,
                                                                 1275278976166057676ull};